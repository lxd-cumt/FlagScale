defaults:
  - _self_
  - serve: emu3p5

experiment:
  exp_name: emu3p5
  exp_dir: outputs/${experiment.exp_name}
  task:
    type: serve
    entrypoint: null
  runner:
    hostfile: null # /path/to/hostfile.txt
    deploy:
      port: 9710
      use_fs_serve: true
      enable_composition: true
      name: /emu3p5
      working_dir: /path/to/FlagScale
      request:
        - arg: prompt            # the text prompt for generation
          type: str
        - arg: reference_image   # a list containing reference image paths
          type: Optional[list]
          required: false
          default: []
  cmds:
    before_start: export RAY_DEDUP_LOGS=0

action: run

hydra:
  run:
    dir: ${experiment.exp_dir}/hydra
